<form [formGroup]="createProductForm" (ngSubmit)="create()"> <!-- inserire ngSubmit-->
    <div class="container">
        <div class="header-page">
            <span>Products page</span>
            <span id="home-link"><a href="/home" class="link">home</a></span>
        </div>


        <!--AGGIUNGERE UNITA MISURA : NUMERO-->
        <div class="container-product-form">
            <div class="header">Create product</div>
            <table class="product-form-table">
               
                <tr>
                    <td><input type="text" formControlName="name"
                            placeholder="name" id="name" autocomplete="off"></td>
                </tr>
                <tr>
                    <td><input type="text" formControlName="description"
                            placeholder="description" id="description"
                            autocomplete="off">
                    </td>
                </tr>
                <tr>
                    <td id="select-td">
                        <label for="">choose measure</label>    
                        <select formControlName="measureUnit" id="select-unit" required>
                            <option *ngFor="let unit of measures | async" value="{{unit.type}}">{{unit.type}}</option>
                        </select>   
                    </td>
                </tr>
                <tr>
                    <td><input type="text" formControlName="price"
                            placeholder="price" id="price" autocomplete="off">
                    </td>
                </tr>
                <tr>
                    <td><button type="submit" class="btn" id="btn-invoice">
                            create product</button>
                    </td>
                </tr>
            </table>
        </div>

        <div class="container-products">
            <!--PRODOTTI-->
            <!-- <div class="header">{{product.name}}</div> -->
            <table class="products-table">
                <thead>
                    <th>CODE</th>
                    <th>NAME</th>
                    <th>DESCRIPTION</th>
                    <th>MEASURE UNIT</th>
                    <th>PRICE</th>
                    <th colspan="3">&nbsp;</th>
                </thead>
                <tr *ngFor="let product of prods | async; let i= index"
                    id="highlight-row-product">
                    <td style="display: none;">{{product.id}}</td>
                    <td>{{product.codeProduct}}</td>
                    <td>{{product.name}}</td>
                    <td>{{product.description}}</td>
                    <td>{{product.measureUnit}}</td>
                    <td>{{product.price}}$</td>

                    <!-- devi inserire metodi -->
                    <td id="td-btn"><a (click)="update(product.id)"class="link"
                            id="edit"><span class="material-icons">
                                create
                            </span></a></td>
                    <td id="td-btn"><a (click)="delete(product.id)"class="link" id="delete"><span
                                class="material-icons">
                                delete
                            </span></a></td>
                </tr>
            </table>
        </div>
    </div>
</form>
